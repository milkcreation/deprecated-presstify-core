!function(a,b,c,d){"use strict";function g(b,c){this.$el=a(b),this.$viewer=a(".viewer",this.$el),this.$roller=a(".roller",this.$el),this.dir="next",this.$el.data(e,this);this.$el.data(e+"-opts");this.defaults={interval:5e3,pause:"hover",transition:"slideLeft",speed:500,easing:"easeInOutExpo",resize:!0,bypage:1,before:function(a,b,c){return!1},after:function(a,b,c){return!1},beforeInit:function(){return!1},afterInit:function(){return!1},onResize:function(a,b){return!1}};var g={};a.each(this.defaults,function(c,e){var f=a(b).data(c);g[c]=f!=d?f:e}),this.defaults=g,this.o=a.extend(!0,this.defaults,c),this.init()}var e="tify-slideshow",f={init:function(a){return this.each(function(b,c){new g(this,a)})}};a.fn.tiFySlideshow=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("La methode "+b+" n'existe pas pour jQuery.tiFySlideshow"):f.init.apply(this,arguments)},g.prototype={init:function(){var b=this;a("> li",b.$roller).each(function(b,c){a(this).attr("data-index",b)}),b._style(),b.$current=a("> li:eq(0)",b.$roller),b.currentIndex=0,b._setCurrent(),b.$viewer.scrollLeft(0),b.gap=1,b.o.beforeInit(),a("> li",b.$roller).length<=b.o.bypage&&a("[data-arrownav], [data-tabnav]",b.$el).hide(),b._listen(),b.o.interval>0&&b._auto(),b.o.afterInit()},_style:function(){var b=this;switch(b.o.transition){case"slideLeft":a("> li",b.$roller).each(function(){a(this).css({width:a(".viewer",b.$el).width()/b.o.bypage+"px"})})}},_auto:function(){var b=this;b.interval=setInterval(function(){b.autoscroll=!0,b.dir=a(this).hasClass("prev")?"prev":"next",b.$current=a("> li.active",b.$roller),"prev"===b.dir?b.$current.is(":first-child")?b.$target=a("> li:last",b.$roller):b.$target=b.$current.prev():b.$current.is(":last-child")?b.$target=a("> li:first",b.$roller):b.$target=b.$current.next(),b.targetIndex=b.$target.data("index"),b._slide()},b.o.interval)},_listen:function(){var a=this;a.o.interval>0&&("hover"===a.o.pause?a.$el.hover(function(b){a.autoscroll=!1,clearTimeout(a.setprogress),clearTimeout(a.interval)},function(){a._auto()}):a._auto()),a._nav(),a.o.resize&&a._resize()},_nav:function(){var b=this;a("[data-arrownav]",b.$el).click(function(c){if(c.preventDefault(),b.$viewer.is(":animated"))return!1;b.dir="prev"===a(this).data("arrownav")?"prev":"next",b._slide()}),a("[data-tabnav]",b.$el).click(function(c){if(c.preventDefault(),b.$viewer.is(":animated"))return!1;var d=a(this).data("tabnav");a("[data-tabnav]",b.$el).closest("li.active").index()>d?b.dir="prev":b.dir="next",b.$target=a("> li[data-index='"+a(this).closest("li").index()+"']",b.$roller),b._slide()})},_slide:function(){var b=this;b.$current=a("> li.active",b.$roller),b.$target||("prev"===b.dir?b.$current.is(":first-child")?b.$target=a("> li:last",b.$roller):b.$target=b.$current.prev():b.$current.is(":last-child")?b.$target=a("> li:first",b.$roller):b.$target=b.$current.next());var c=b.$roller.position().left,d=b.$target.position().left;switch(b.targetIndex=b.$target.data("index"),b.gap=b.targetIndex-b.currentIndex,b.o.transition){case"slideLeft":if("prev"===b.dir){a("> li",b.$roller).slice(0,b.gap).each(function(){a(this).appendTo(b.$roller)});var e=b.gap<0?-b.gap:1;b.o.before(b.dir,b.$target,b),b.$viewer.scrollLeft(b.$target.outerWidth()*e),b.$viewer.stop().animate({scrollLeft:0},b.o.speed,b.o.easing,function(){b.o.after(b.dir,b.$target,b),b.$current=b.$target,b._setCurrent(),b._reset()})}else b.o.before(b.dir,b.$target,b),b.$viewer.stop().animate({scrollLeft:d-c},b.o.speed,b.o.easing,function(){b.o.after(b.dir,b.$target,b),b.$current=b.$target,b._setCurrent(),a("> li",b.$roller).slice(0,b.gap).each(function(){a(this).appendTo(b.$roller)}),b._reset()});break;case"fadeIn":if("prev"===b.dir){for(var f=0;f<-gap;f++)a("> li:last",b.$roller).prependTo(b.$roller);b.o.before(b.dir,b.$target,b),b.$target.hide(),b.$current.fadeOut(function(){b.o.after(b.dir,b.$target,b),b.$current=b.$target,b._setCurrent(),b._reset()})}else b.o.before(b.dir,b.$target,b),b.$target.hide(),b.$current.fadeOut(function(){b.$target.fadeIn(),b.o.after(b.dir,b.$target,b),b.$current=b.$target,b._setCurrent(),a("> li",b.$roller).slice(0,gap).each(function(){a(this).appendTo(b.$roller)}),b._reset()})}},_setCurrent:function(){var b=this;b.$current.addClass("active").siblings().removeClass("active"),b.currentIndex=b.$current.data("index"),a('[data-tabnav="'+b.currentIndex+'"]',b.$el).closest("li").addClass("active").siblings().removeClass("active")},_reset:function(){var a=this;a.$target=d,a.$viewer.scrollLeft(0)},_resize:function(){var b=this;a(window).resize(function(c){b.o.onResize(b.$current,b),a("> li",b.$roller).css("width",b.$viewer.width()/b.o.bypage+"px");var d=b.$roller.position().left,e=b.$current.position().left;b.$viewer.scrollLeft(e-d)})}}}(jQuery,document,window,void 0),jQuery(document).ready(function(a){a('[data-tify="slideshow"]').tiFySlideshow()});