!function(a,b,c,d){"use strict";function g(b,c){this.$el=a(b),this.$target,this.$el.data(e,this);this.$el.data(e+"-opts");this.defaults={easing:"swing",speed:300,sum:!0,cycle:!1,before:function(a,b){return!1},after:function(a,b){return!1}},this.o=a.extend(!0,this.defaults,c),this.init()}var e="tify-onepage-scroll",f={init:function(a){return this.each(function(b,c){new g(this,a)})}};a.fn.tiFyOnePageScroll=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("La methode "+b+" n'existe pas pour jQuery.tiFyOnePageScroll"):f.init.apply(this,arguments)},g.prototype={init:function(){var a=this;a._current(),a._listen()},_current:function(){var b=this;if(a('[data-tify-onepage-scroll="section"].active',b.$el).length)b.$target=a('[data-tify-onepage-scroll="section"].active',b.$el);else{var c=a(window).scrollTop();b.$target=a('[data-tify-onepage-scroll="section"]:first',b.$el),a('[data-tify-onepage-scroll="section"]',b.$el).each(function(){return c>a(this).offset().top&&void(b.$target=a(this))})}b._scrollTo()},_listen:function(){var a=this;a._nav(),a._mouseWheel(),a._events()},_nav:function(){var c,b=this,e=document.URL;if((c=e.split("#"))&&c[1]!=d){var f="#"+c[1];b.$target=a(f),b._scrollTo()}a(document).on("click.tify.onepage-scroll.target","a[data-tify-onepage-scroll='target']",function(c){return c.preventDefault(),!b.$el.is(":animated")&&(f=a(this).data("target")?a(this).data("target"):a(this).attr("href"),!a(f).hasClass("active")&&(b.$target=a(f),!!b.$target.length&&(b.o.before(b.$target,b),void b._scrollTo())))}),a(document).on("click.tify.onepage-scroll.prev","a[data-tify-onepage-scroll='prev']",function(a){a.preventDefault(),b._prev()}),a(document).on("click.tify.onepage-scroll.next","a[data-tify-onepage-scroll='next']",function(a){a.preventDefault(),b._next()})},_scrollTo:function(){var b=this,c=b.$target.index(),d=a('[data-tify-onepage-scroll="section"].active',b.$el).index();if(b.o.sum)var e=Math.abs(d-c),f=Math.abs(b.o.speed*e);else var f=b.o.speed;var g=b.$target.offset().top;b.$target.data("offset")&&(g+=b.$target.data("offset")),a('[data-tify-onepage-scroll="section"]',b.$el).removeClass("active"),a("a[data-tify-onepage-scroll='target']").each(function(){a(this).removeClass("active")}),a("a[data-tify-onepage-scroll='target'][data-target='#"+b.$target.attr("id")+"'], a[data-tify-onepage-scroll='target'][href='#"+b.$target.attr("id")+"']").each(function(){a(this).addClass("active")}),a("html, body").animate({scrollTop:g},f,b.o.easing,function(a){b.$target.addClass("active"),b.o.after(b.$target,b)})},_prev:function(){var b=this;if(b.$el.is(":animated"))return!1;if(a('[data-tify-onepage-scroll="section"].active',b.$el).length)if(a('[data-tify-onepage-scroll="section"].active',b.$el).is(":first-child")){if(!b.o.cycle)return!1;b.$target=a('[data-tify-onepage-scroll="section"]:last')}else b.$target=a('[data-tify-onepage-scroll="section"].active').prev();else{if(!b.o.cycle)return!1;b.$target=a('[data-tify-onepage-scroll="section"]:last')}b.o.before(b.$target,b),b._scrollTo()},_next:function(){var b=this;if(b.$el.is(":animated"))return!1;if(a('[data-tify-onepage-scroll="section"].active',b.$el).length)if(a('[data-tify-onepage-scroll="section"].active',b.$el).is(":last-child")){if(!b.o.cycle)return!1;b.$target=a('[data-tify-onepage-scroll="section"]:first')}else b.$target=a('[data-tify-onepage-scroll="section"].active').next();else{if(!b.o.cycle)return!1;b.$target=a('[data-tify-onepage-scroll="section"]:first')}b.o.before(b.$target,b),b._scrollTo()},_mouseWheel:function(){var b=this;a(document).on("mousewheel.onepagescroll",b.el,function(a,c,d,e){c>0?b._prev():b._next()})},_events:function(){var b=this;b.resizeTimer,a(window).resize(function(){clearTimeout(b.resizeTimer),b.resizeTimer=setTimeout(function(){b._scrollTo()},100)})}}}(jQuery,document,window,void 0);