!function(t,e,a,i){"use strict";function o(e,a){this.$el=t(e),this.$target,this.$el.data(r,this);this.$el.data(r+"-opts");this.defaults={easing:"swing",speed:300,sum:!0,cycle:!1,before:function(t,e){return!1},after:function(t,e){return!1}},this.o=t.extend(!0,this.defaults,a),this.init()}var r="tify-onepage-scroll",n={init:function(t){return this.each(function(e,a){new o(this,t)})}};t.fn.tiFyOnePageScroll=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("La methode "+e+" n'existe pas pour jQuery.tiFyOnePageScroll"):n.init.apply(this,arguments)},o.prototype={init:function(){var t=this;t._current(),t._listen()},_current:function(){var e=this;if(t('[data-tify-onepage-scroll="section"].active',e.$el).size())e.$target=t('[data-tify-onepage-scroll="section"].active',e.$el);else{var a=t(window).scrollTop();e.$target=t('[data-tify-onepage-scroll="section"]:first',e.$el),t('[data-tify-onepage-scroll="section"]',e.$el).each(function(){return a>t(this).offset().top?void(e.$target=t(this)):!1})}e._scrollTo()},_listen:function(){var t=this;t._nav(),t._mouseWheel(),t._events()},_nav:function(){var e,a=this,o=document.URL;if((e=o.split("#"))&&e[1]!=i){var r="#"+e[1];a.$target=t(r),a._scrollTo()}t(document).on("click.tify.onepage-scroll.target","a[data-tify-onepage-scroll='target']",function(e){return e.preventDefault(),a.$el.is(":animated")?!1:(r=t(this).data("target")?t(this).data("target"):t(this).attr("href"),t(r).hasClass("active")?!1:(a.$target=t(r),a.$target.size()?(a.o.before(a.$target,a),void a._scrollTo()):!1))}),t(document).on("click.tify.onepage-scroll.prev","a[data-tify-onepage-scroll='prev']",function(t){t.preventDefault(),a._prev()}),t(document).on("click.tify.onepage-scroll.next","a[data-tify-onepage-scroll='next']",function(t){t.preventDefault(),a._next()})},_scrollTo:function(){var e=this,a=e.$target.index(),i=t('[data-tify-onepage-scroll="section"].active',e.$el).index();if(e.o.sum)var o=Math.abs(i-a),r=Math.abs(e.o.speed*o);else var r=e.o.speed;var n=e.$target.offset().top;e.$target.data("offset")&&(n+=e.$target.data("offset")),t('[data-tify-onepage-scroll="section"]',e.$el).removeClass("active"),t("a[data-tify-onepage-scroll='target']").each(function(){t(this).removeClass("active")}),t("a[data-tify-onepage-scroll='target'][data-target='#"+e.$target.attr("id")+"'], a[data-tify-onepage-scroll='target'][href='#"+e.$target.attr("id")+"']").each(function(){t(this).addClass("active")}),t("html, body").animate({scrollTop:n},r,e.o.easing,function(t){e.$target.addClass("active"),e.o.after(e.$target,e)})},_prev:function(){var e=this;if(e.$el.is(":animated"))return!1;if(t('[data-tify-onepage-scroll="section"].active',e.$el).size())if(t('[data-tify-onepage-scroll="section"].active',e.$el).is(":first-child")){if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:last')}else e.$target=t('[data-tify-onepage-scroll="section"].active').prev();else{if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:last')}e.o.before(e.$target,e),e._scrollTo()},_next:function(){var e=this;if(e.$el.is(":animated"))return!1;if(t('[data-tify-onepage-scroll="section"].active',e.$el).size())if(t('[data-tify-onepage-scroll="section"].active',e.$el).is(":last-child")){if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:first')}else e.$target=t('[data-tify-onepage-scroll="section"].active').next();else{if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:first')}e.o.before(e.$target,e),e._scrollTo()},_mouseWheel:function(){var e=this;t(document).on("mousewheel.onepagescroll",e.el,function(t,a,i,o){a>0?e._prev():e._next()})},_events:function(){var e=this;e.resizeTimer,t(window).resize(function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e._scrollTo()},100)})}}}(jQuery,document,window,void 0);